<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Fragments</title>
    <link th:href="@{/css/bootstrap.css}" rel="stylesheet" type="text/css">
    <link th:href="@{/css/style.css}" rel="stylesheet" type="text/css">
    <link th:href="@{/css/font-awesome.min.css}" rel="stylesheet" type="text/css">
    <link th:href="@{/css/responsive.css}" rel="stylesheet" type="text/css">
</head>
<body>

<!-- Navbar Fragment -->
<div class="top-menu-bottom932" th:fragment="navbar">
    <nav class="navbar navbar-default">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                        data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" th:href="@{/}">
                    <img th:src="@{/image/logo.png}" alt="Logo">
                </a>
            </div>
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li><a th:href="@{/}" th:text="#{navbar.label.home}">Home</a></li>
                    <li><a th:href="@{/posts/new}" th:text="#{navbar.label.create.post}">Create Post</a></li>
                    <li><a th:href="@{/about}" th:text="#{navbar.label.about.us}">About us</a></li>
                    <li th:unless="${isAuthenticated}"><a th:href="@{/auth/login}" th:text="#{navbar.label.sign.in}">Sign
                        In</a></li>
                    <li th:if="${isAuthenticated}"><a th:href="@{/auth/logout}" th:text="#{navbar.label.sign.out}">Sign
                        Out</a></li>
                    <li th:if="${isAuthenticated}"><a th:href="@{/profile}" th:text="#{navbar.label.view.profile}">Profile View</a></li>
                </ul>

            </div>

        </div>
    </nav>
</div>

<!-- Footer Fragment -->
<section class="footer-part" th:fragment="footer1">
    <div class="container">
        <div class="row">
            <div class="col-md-3">
                <div class="info-part-two320">
                    <h4>Quick Links</h4>
                    <a th:href="@{/}">
                        <p>-Home</p>
                    </a>
                    <a th:href="@{/posts/new}">
                        <p>-Create Post</p>
                    </a>
                    <a th:href="@{/about}">
                        <p>-About Us</p>
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="footer-social" th:fragment="footer2">
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <p>Copyright 2017 Ask me | <strong>Stefcho&Toshko</strong></p>
            </div>
        </div>
    </div>
</section>

<div class="post-details-home-view" th:fragment="post-view">
    <!-- Add dynamic title and content using Thymeleaf -->
    <div class="details-header923">
        <div class="row">
            <div class="col-md-8">
                <div class="post-title-left129">
                    <br/>
                    <a class="h3" style="margin-bottom: 10px" th:text="${post.title}"
                       th:href="@{|/posts/| + ${post.id}}">This Is My first Question</a>
                    <br/>
                    <div style="height: 5px"></div>
                    <a class="h4" style="cursor: default; text-decoration: none; color: inherit;">Author: </a>
                    <a class="h4" th:text="${post.createdBy.firstName + ' ' + post.createdBy.lastName}"
                       th:href="@{|/users/| + ${post.createdBy.id}}"></a>
                </div>
            </div>
        </div>
    </div>

    <!-- Display the post content -->
    <div class="post-details-info1982">
        <p th:text="${post.content}">Lorem ipsum dolor sit amet...</p>
        <hr>
        <div class="post-footer29032">
            <div class="l-side2023">
                <!-- Like button and likes count -->
                <form th:action="@{/posts/{postId}/like(postId=${post.id})}" method="get" style="display:inline;">
                    <button type="submit" style="border:none;background:none;padding:0;">
                        <img th:src="@{/image/like.png}" alt="Like" style="width: 16px; height: 16px;">
                    </button>
                </form>

                <a href="#" class="dropdown-toggle" id="likesDropdown" aria-expanded="false">
                    <i class="fa star2" aria-hidden="true" th:text="' ' + ${post.likesCount} + ' likes'">5</i>
                </a>

                <div id="likesDropdownMenu" class="dropdown-menu-custom">
                    <ul>
                        <li th:each="user : ${post.likes}">
                            <a th:href="@{/users/{id}(id=${user.id})}" th:text="${user.firstName} + ' ' + ${user.lastName}">User Name</a>
                        </li>
                    </ul>
                </div>
            </div>
                <i class="fa" aria-hidden="true">
                    <span style="margin-right: 1px">Tags: </span>
                    <span th:each="tag : ${post.tags}">
                                        <a  style="margin-right: 3px; text-decoration: none; color: inherit;" th:text="${tag.tagName}" th:href="|/tag/| + ${tag.id}"></a>
                    </span>
                </i>
                <i class="fa clock2" aria-hidden="true" style="cursor: default;"
                   th:text="${#dates.format(post.createdAt, 'dd MMM yyyy')}"></i>
                <a th:href="@{|/posts/| + ${post.id}} + |/comments|">
                    <img th:src="@{/image/comment.png}" alt="Comment" style="width: 10px; height: 10px;">
                    <i class="fa commenting2" aria-hidden="true"
                       th:text="' ' + ${post.comments.size()} + ' comments'"></i>
                </a>
            </div>
        </div>
    </div>
</div>


<div class="tags-part2398" th:fragment="tag-section">
    <h4>Tags</h4>
    <ul>
        <li th:each="tag : ${tags}"><a href="#" th:text="${tag.tagName}" th:href="@{|/tag/| + ${tag.id}}">tag name
            placeholder</a></li>

    </ul>
</div>
<!--          End tags part-->
<div class="status-part3821" th:fragment="stat-section">
    <h4>stats</h4>
    <a href="#"><i class="fa fa-question-circle"> Posts(<span th:text="${postCount}">0</span>)</i></a>
    <i class="fa fa-comment"> Users(<span th:text="${userCount}">0</span>)</i>
</div>
</body>
</html>
